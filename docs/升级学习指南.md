# SpringDemos 升级后学习指南（Spring 6 + Java 17）

> 目标：把这个仓库作为“老写法到新写法”的对照学习样例。

## 1. 仓库你可以怎么学

建议按下面顺序学习，每个模块都结合 `applicationContext.xml` 与 Java 代码一起看：

1. `spring_ioc_xml`：先掌握 IoC、Bean 生命周期、scope、依赖注入。
2. `spring_ioc_annotation`：再看注解驱动方式（`@Component`、`@Service`、`@Resource`）。
3. `spring_aop_proxy`：理解静态/动态代理思路。
4. `spring_aop_xml`：AOP XML 声明式切面配置。
5. `spring_aop_annotation`：AOP 注解式写法。
6. `spring_jdbc_curd`：Spring JDBC + MVC 基本 CRUD。
7. `spring_mybatis_curd`：作为后续扩展（当前仓库代码较少，可自行补 mapper/demo）。

## 2. 本次升级后你要特别注意的点

### 2.1 Java 基线
- 升级到 Java 17（Spring 6 最低要求）。
- Maven 编译使用 `<release>17</release>`，避免 source/target 与 JDK 不一致问题。

### 2.2 Jakarta 命名空间迁移
- 原来的 `javax.annotation.Resource` 变为 `jakarta.annotation.Resource`。
- Web 容器相关依赖从 `javax.servlet-api` 升级为 `jakarta.servlet-api`。
- `web.xml` 使用 Jakarta EE 6.0 schema，更贴近 Tomcat 10+ 生态。

### 2.3 测试风格
- JUnit4 升级到 JUnit5（Jupiter）。
- `SpringJUnit4ClassRunner` 改为 `@SpringJUnitConfig`。

## 3. 推荐你做的练习（非常适合面试前复习）

1. **IoC**：在 xml 与 annotation 两种写法里，各新增一个 Bean，并演示 singleton/prototype 差异。
2. **AOP**：在 `UserAction` 的 `add/delete/load` 上分别加前置、后置、环绕通知，观察日志输出顺序。
3. **MVC + JDBC**：
   - 给 `WorkersController` 增加异常处理（`@ControllerAdvice`）。
   - 给 `WorkersDao` 增加分页查询方法。
   - 把当前 `@RequestMapping` 细化为 `@GetMapping/@PostMapping/...`。
4. **配置解耦**：尝试把 `applicationContext.xml` 逐步迁移到 Java Config（`@Configuration`）。

## 4. 运行建议

1. 安装 Java 17+ 与 Maven 3.9+。
2. 准备本地 MySQL，并根据 `jdbc.properties` 调整账号/库名。
3. 先运行非数据库模块，再跑 JDBC 模块。
4. JDBC 示例中带数据库依赖的测试默认标记为 disabled，可按注释启用。

## 5. 你可以继续扩展的方向

- 增加 `spring_tx_demo`：事务传播行为（REQUIRED / REQUIRES_NEW）演示。
- 增加 `spring_cache_demo`：`@Cacheable` + Redis。
- 增加 `spring_boot_migration_demo`：把其中一个旧模块迁移到 Spring Boot 3，形成“传统 Spring vs Boot”对照。

